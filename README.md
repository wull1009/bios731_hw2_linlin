# BIOS 731 HW2 â€“ Simulation Study (CI for treatment effect)

This repository contains code for a simulation study comparing three 95% confidence interval methods for the treatment effect in a multiple linear regression model:

1. Wald CI  
2. Nonparametric bootstrap percentile CI  
3. Nonparametric bootstrap-t CI (nested bootstrap)

## Project structure

- `source/`
  - `generate_data.R` : data-generating mechanism
  - `ci_wald.R` : Wald CI for beta_treat
  - `ci_percentile.R` : bootstrap percentile CI
  - `ci_boot_t.R` : bootstrap-t CI (outer bootstrap B, inner bootstrap B_inner)
- `analysis/`
  - `run_simulation.R` : runs the simulation for one scenario (for SLURM array) or all scenarios locally
  - `summarize_results.R` : reads `.rds` scenario outputs from `data/scenarios/` and generates:
    - `results/summary_table.csv`
    - plots saved under `results/`
- `data/`
  - `scenarios/` : intermediate simulation outputs saved as `.rds` (one file per scenario)
- `results/` : summary tables and plots generated by `summarize_results.R`
- `hw2.Rmd` : write-up that sources analysis scripts and displays results

## How to run (recommended order)

### Step 1: Run simulation and save intermediate `.rds` outputs
```r
# from R console at project root:
source(here::here("analysis", "run_simulation.R"))
```

### Step 2: Summarize results and create plots
After all scenarios finish running:
```r
source(here::here("analysis", "summarize_results.R"))
```
### Step 3: Generate the report
Open hw2.Rmd in RStudio and knit to HTML.

